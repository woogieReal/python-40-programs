"""
네이버 이메일을 읽는 코드 만들기
"""

import imaplib
import email
from email import policy
import getpass


# 문자열을 인코딩
def find_encoding_info(txt):
    info = email.header.decode_header(txt)
    subject, encode = info[0]
    return subject, encode


# 네이버의 메일로 로그인
# 구글 이메일을 읽을 시 'imap.gmail.com'
imap = imaplib.IMAP4_SSL('imap.naver.com')
id = '123wodnr@naver.com'
pw = getpass.getpass('Password:')
imap.login(id, pw)

# 받은 메일함에서 메일을 읽는다.
# Inbox(기본값), Sent, Drafts, Trash, Junk
imap.select('INBOX')
resp, data = imap.uid('search', None, 'All')

print(resp)
# ->OK

print(data)
# -> [b'21099 21100 21101 21102 21104 21105 21106 21107 21108 21109 21110 21112 21114 21116 21117 21118 21119 21120 21121 21122 21123 21124 21126 21127 21128 21129 21131 21132 21133 21134 21135 21136 21140 21142 21144 21145 21146 21147 21148 21150 21151 21152 21153 21154 21155 21156 21157 21159 21160 21161 21162 21163 21165 21166 21167 21168 21169 21170 21172 21173 21174 21178 21179 21181 21182 21183 21184 21187 21190 21191 21193 21194 21201 21202 21203 21204 21205 21206 21207 21208 21216 21219 21222 21223 21224 21225 21226 21227 21228 21231 21233 21235 21237 21238 21239 21240 21241 21242 21243 21244 21245 21246 21247 21249 21250 21251 21253 21254 21256 21257 21258 21259 21263 21265 21266 21267 21268 21269 21270 21272 21274 21275 21279 21280 21281 21284 21285 21289 21290 21291 21292 21293 21294 21295 21296 21299 21302 21303 21304 21305 21307 21308 21309 21310 21315 21316 21319 21320 21322 21324 21325 21326 21327 21328 21330 21331 21332 21333 21334 21336 21337 21338 21340 21345 21347 21348 21350 21352 21353 21354 21356 21360 21362 21363 21364 21367 21368 21369 21371 21372 21373 21376 21377 21378 21381 21382 21383 21384 21386 21387 21388 21389 21391 21392 21393 21398 21402 21405 21408 21410 21412 21413 21414 21415 21417 21420 21422 21424 21428 21429 21430 21431 21432 21433 21435 21436 21438 21439 21440 21441 21442 21443 21445 21447 21448 21450 21451 21452 21454 21455 21458 21459 21461 21462 21463 21464 21465 21466 21467 21468 21469 21470 21473 21474 21475 21476 21477 21478 21479 21480 21481 21482 21483 21484 21485 21486 21487 21488 21489 21491 21492 21493 21494 21495 21496 21499 21501 21502 21503 21504 21505 21507 21510 21511 21512 21513 21515 21516 21519 21520 21521 21522 21523 21524 21526 21527 21528 21529 21535 21537 21538 21540 21542 21545 21546 21551 21552 21557 21558 21559 21561 21563 21564 21565 21568 21574 21575 21577 21578 21580 21582 21583 21584 21588 21589 21591 21592 21596 21597 21598 21599 21600 21602 21603 21604 21606 21607 21609 21611 21612 21613 21614 21616 21617 21618 21619 21620 21622 21623 21624 21626 21629 21635 21636 21637 21638 21640 21645 21646 21648 21652 21653 21654 21658 21659 21660 21661 21662 21663 21665 21671 21672 21673 21674 21675 21676 21678 21679 21682 21683 21685 21686 21687 21689 21691 21694 21696 21698 21699 21700 21702 21703 21704 21709 21710 21715 21717 21719 21720 21725 21726 21727 21728 21729 21730 21731 21732 21733 21734 21735 21736 21737 21740 21744 21745 21749 21750 21751 21752 21753 21754 21755 21756 21757 21758 21759 21761 21763 21764 21782 21784 21785 21787 21788 21789 21790 21791 21792 21793 21794 21795 21796 21797 21798 21799 21800 21801 21802 21803 21804 21805 21806 21807 21808 21809 21810 21811 21812 21815 21816 21817 21818 21819 21820 21823 21824 21826 21827 21828 21829 21830 21831 21833 21835 21836 21838 21840 21842 21843 21844 21846 21847 21848 21849 21850 21851 21854 21855 21856 21857 21858 21860 21861 21862 21863 21864 21870 21871 21876 21877 21878 21879 21880 21882 21883 21885 21886 21887 21888 21889 21890 21891 21894 21895 21896 21897 21898 21899 21900 21901 21902 21903 21904 21905 21906 21907 21908 21909 21910 21911 21912 21914 21916 21917 21919 21920 21921 21922 21923 21924 21925 21926 21927 21929 21930 21931 21932 21933 21938 21940 21941 21943 21944 21945 21947 21948 21949 21953 21957 21958 21959 21964 21965 21966 21967 21968 21971 21972 21975 21976 21977 21980 21981 21982 21988 21989 21990 21991 21992 21993 21994 21995 21996 21997 21998 22000 22001 22002 22003 22005 22006 22010 22012 22013 22015 22018 22019 22020 22021 22022 22023 22024 22025 22026 22027 22028 22029 22030 22031 22032 22033 22034 22035 22036 22037 22038 22039 22043 22044 22046 22049 22050 22051 22052 22055 22056 22058 22059 22060 22061 22064 22065 22066 22068 22069 22070 22073 22074 22075 22076 22077 22078 22079 22080 22081 22082 22083 22085 22086 22087 22088 22089 22090 22092 22093 22094 22095 22096 22098 22102 22105 22108 22109 22110 22111 22112 22113 22114 22116 22117 22118 22119 22120 22121 22123 22124 22126 22127 22128 22130 22132 22133 22134 22135 22136 22137 22138 22139 22140 22142 22144 22145 22146 22148 22150 22151 22152 22153 22154 22157 22158 22159 22160 22161 22162 22163 22164 22166 22167 22168 22169 22170 22171 22172 22174 22175 22177 22179 22181 22182 22183 22184 22185 22188 22189 22190 22191 22192 22193 22194 22195 22198 22199 22200 22202 22203 22205 22206 22207 22210 22211 22213 22214 22215 22219 22220 22221 22223 22224 22226 22227 22228 22229 22230 22232 22233 22234 22236 22240 22241 22244 22247 22248 22249 22250 22251 22252 22254 22255 22256 22260 22261 22262 22264 22272 22276 22277 22280 22281 22282 22283 22284 22293 22294 22295 22296 22300 22301 22302 22303 22306 22309 22310 22311 22313 22321 22322 22325 22326 22327 22328 22331 22332 22333 22334 22335 22336 22337 22338 22339 22340 22341 22343 22344 22345 22348 22352 22354 22355 22356 22358 22361 22362 22369 22371 22373 22374 22376 22379 22387 22388 22390 22392 22394 22396 22397 22398 22400 22401 22403 22406 22407 22409 22412 22413 22415 22416 22417 22423 22424 22426 22428 22430 22431 22433 22434 22435 22436 22437 22441 22442 22443 22444 22445 22446 22448 22449 22454 22455 22456 22457 22458 22461 22466 22467 22469 22472 22474 22475 22476 22478 22480 22481 22489 22490 22491 22494 22495 22496 22498 22499 22500 22501 22503 22506 22507 22513 22514 22515 22516 22518 22522 22525 22526 22527 22529 22530 22535 22536 22540 22546 22549 22551 22554 22555 22556 22557 22558 22562 22564 22565 22566 22572 22574 22575 22576 22578 22581 22585 22588 22589 22591 22592 22593 22594 22595 22600 22601 22603 22605 22607 22611 22613 22616 22619 22620 22621 22626 22627 22628 22630 22633 22635 22638 22640 22642 22643 22644 22645 22646 22648 22649 22650 22651 22655 22657 22658 22661 22664 22666 22667 22668 22669 22672 22673 22675 22676 22682 22683 22690 22692 22694 22695 22700 22702 22703 22704 22705 22707 22708 22709 22712 22713 22715 22719 22722 22723 22731 22732 22734 22735 22741 22742 22743 22744 22747 22753 22755 22760 22767']

print(data[0].split())
"""
[b'21099', b'21100', b'21101', b'21102', b'21104', b'21105', b'21106', b'21107', b'21108', b'21109', b'21110', b'21112', b'21114', b'21116', b'21117', b'21118', b'21119', b'21120', b'21121', b'21122', b'21123', b'21124', b'21126', b'21127', b'21128', b'21129', b'21131', b'21132', b'21133', b'21134', b'21135', b'21136', b'21140', b'21142', b'21144', b'21145', b'21146', b'21147', b'21148', b'21150', b'21151', b'21152', b'21153', b'21154', b'21155', b'21156', b'21157', b'21159', b'21160', b'21161', b'21162', b'21163', b'21165', b'21166', b'21167', b'21168', b'21169', b'21170', b'21172', b'21173', b'21174', b'21178', b'21179', b'21181', b'21182', b'21183', b'21184', b'21187', b'21190', b'21191', b'21193', b'21194', b'21201', b'21202', b'21203', b'21204', b'21205', b'21206', b'21207', b'21208', b'21216', b'21219', b'21222', b'21223', b'21224', b'21225', b'21226', b'21227', b'21228', b'21231', b'21233', b'21235', b'21237', b'21238', b'21239', b'21240', b'21241', b'21242', b'21243', b'21244', b'21245', b'21246', b'21247', b'21249', b'21250', b'21251', b'21253', b'21254', b'21256', b'21257', b'21258', b'21259', b'21263', b'21265', b'21266', b'21267', b'21268', b'21269', b'21270', b'21272', b'21274', b'21275', b'21279', b'21280', b'21281', b'21284', b'21285', b'21289', b'21290', b'21291', b'21292', b'21293', b'21294', b'21295', b'21296', b'21299', b'21302', b'21303', b'21304', b'21305', b'21307', b'21308', b'21309', b'21310', b'21315', b'21316', b'21319', b'21320', b'21322', b'21324', b'21325', b'21326', b'21327', b'21328', b'21330', b'21331', b'21332', b'21333', b'21334', b'21336', b'21337', b'21338', b'21340', b'21345', b'21347', b'21348', b'21350', b'21352', b'21353', b'21354', b'21356', b'21360', b'21362', b'21363', b'21364', b'21367', b'21368', b'21369', b'21371', b'21372', b'21373', b'21376', b'21377', b'21378', b'21381', b'21382', b'21383', b'21384', b'21386', b'21387', b'21388', b'21389', b'21391', b'21392', b'21393', b'21398', b'21402', b'21405', b'21408', b'21410', b'21412', b'21413', b'21414', b'21415', b'21417', b'21420', b'21422', b'21424', b'21428', b'21429', b'21430', b'21431', b'21432', b'21433', b'21435', b'21436', b'21438', b'21439', b'21440', b'21441', b'21442', b'21443', b'21445', b'21447', b'21448', b'21450', b'21451', b'21452', b'21454', b'21455', b'21458', b'21459', b'21461', b'21462', b'21463', b'21464', b'21465', b'21466', b'21467', b'21468', b'21469', b'21470', b'21473', b'21474', b'21475', b'21476', b'21477', b'21478', b'21479', b'21480', b'21481', b'21482', b'21483', b'21484', b'21485', b'21486', b'21487', b'21488', b'21489', b'21491', b'21492', b'21493', b'21494', b'21495', b'21496', b'21499', b'21501', b'21502', b'21503', b'21504', b'21505', b'21507', b'21510', b'21511', b'21512', b'21513', b'21515', b'21516', b'21519', b'21520', b'21521', b'21522', b'21523', b'21524', b'21526', b'21527', b'21528', b'21529', b'21535', b'21537', b'21538', b'21540', b'21542', b'21545', b'21546', b'21551', b'21552', b'21557', b'21558', b'21559', b'21561', b'21563', b'21564', b'21565', b'21568', b'21574', b'21575', b'21577', b'21578', b'21580', b'21582', b'21583', b'21584', b'21588', b'21589', b'21591', b'21592', b'21596', b'21597', b'21598', b'21599', b'21600', b'21602', b'21603', b'21604', b'21606', b'21607', b'21609', b'21611', b'21612', b'21613', b'21614', b'21616', b'21617', b'21618', b'21619', b'21620', b'21622', b'21623', b'21624', b'21626', b'21629', b'21635', b'21636', b'21637', b'21638', b'21640', b'21645', b'21646', b'21648', b'21652', b'21653', b'21654', b'21658', b'21659', b'21660', b'21661', b'21662', b'21663', b'21665', b'21671', b'21672', b'21673', b'21674', b'21675', b'21676', b'21678', b'21679', b'21682', b'21683', b'21685', b'21686', b'21687', b'21689', b'21691', b'21694', b'21696', b'21698', b'21699', b'21700', b'21702', b'21703', b'21704', b'21709', b'21710', b'21715', b'21717', b'21719', b'21720', b'21725', b'21726', b'21727', b'21728', b'21729', b'21730', b'21731', b'21732', b'21733', b'21734', b'21735', b'21736', b'21737', b'21740', b'21744', b'21745', b'21749', b'21750', b'21751', b'21752', b'21753', b'21754', b'21755', b'21756', b'21757', b'21758', b'21759', b'21761', b'21763', b'21764', b'21782', b'21784', b'21785', b'21787', b'21788', b'21789', b'21790', b'21791', b'21792', b'21793', b'21794', b'21795', b'21796', b'21797', b'21798', b'21799', b'21800', b'21801', b'21802', b'21803', b'21804', b'21805', b'21806', b'21807', b'21808', b'21809', b'21810', b'21811', b'21812', b'21815', b'21816', b'21817', b'21818', b'21819', b'21820', b'21823', b'21824', b'21826', b'21827', b'21828', b'21829', b'21830', b'21831', b'21833', b'21835', b'21836', b'21838', b'21840', b'21842', b'21843', b'21844', b'21846', b'21847', b'21848', b'21849', b'21850', b'21851', b'21854', b'21855', b'21856', b'21857', b'21858', b'21860', b'21861', b'21862', b'21863', b'21864', b'21870', b'21871', b'21876', b'21877', b'21878', b'21879', b'21880', b'21882', b'21883', b'21885', b'21886', b'21887', b'21888', b'21889', b'21890', b'21891', b'21894', b'21895', b'21896', b'21897', b'21898', b'21899', b'21900', b'21901', b'21902', b'21903', b'21904', b'21905', b'21906', b'21907', b'21908', b'21909', b'21910', b'21911', b'21912', b'21914', b'21916', b'21917', b'21919', b'21920', b'21921', b'21922', b'21923', b'21924', b'21925', b'21926', b'21927', b'21929', b'21930', b'21931', b'21932', b'21933', b'21938', b'21940', b'21941', b'21943', b'21944', b'21945', b'21947', b'21948', b'21949', b'21953', b'21957', b'21958', b'21959', b'21964', b'21965', b'21966', b'21967', b'21968', b'21971', b'21972', b'21975', b'21976', b'21977', b'21980', b'21981', b'21982', b'21988', b'21989', b'21990', b'21991', b'21992', b'21993', b'21994', b'21995', b'21996', b'21997', b'21998', b'22000', b'22001', b'22002', b'22003', b'22005', b'22006', b'22010', b'22012', b'22013', b'22015', b'22018', b'22019', b'22020', b'22021', b'22022', b'22023', b'22024', b'22025', b'22026', b'22027', b'22028', b'22029', b'22030', b'22031', b'22032', b'22033', b'22034', b'22035', b'22036', b'22037', b'22038', b'22039', b'22043', b'22044', b'22046', b'22049', b'22050', b'22051', b'22052', b'22055', b'22056', b'22058', b'22059', b'22060', b'22061', b'22064', b'22065', b'22066', b'22068', b'22069', b'22070', b'22073', b'22074', b'22075', b'22076', b'22077', b'22078', b'22079', b'22080', b'22081', b'22082', b'22083', b'22085', b'22086', b'22087', b'22088', b'22089', b'22090', b'22092', b'22093', b'22094', b'22095', b'22096', b'22098', b'22102', b'22105', b'22108', b'22109', b'22110', b'22111', b'22112', b'22113', b'22114', b'22116', b'22117', b'22118', b'22119', b'22120', b'22121', b'22123', b'22124', b'22126', b'22127', b'22128', b'22130', b'22132', b'22133', b'22134', b'22135', b'22136', b'22137', b'22138', b'22139', b'22140', b'22142', b'22144', b'22145', b'22146', b'22148', b'22150', b'22151', b'22152', b'22153', b'22154', b'22157', b'22158', b'22159', b'22160', b'22161', b'22162', b'22163', b'22164', b'22166', b'22167', b'22168', b'22169', b'22170', b'22171', b'22172', b'22174', b'22175', b'22177', b'22179', b'22181', b'22182', b'22183', b'22184', b'22185', b'22188', b'22189', b'22190', b'22191', b'22192', b'22193', b'22194', b'22195', b'22198', b'22199', b'22200', b'22202', b'22203', b'22205', b'22206', b'22207', b'22210', b'22211', b'22213', b'22214', b'22215', b'22219', b'22220', b'22221', b'22223', b'22224', b'22226', b'22227', b'22228', b'22229', b'22230', b'22232', b'22233', b'22234', b'22236', b'22240', b'22241', b'22244', b'22247', b'22248', b'22249', b'22250', b'22251', b'22252', b'22254', b'22255', b'22256', b'22260', b'22261', b'22262', b'22264', b'22272', b'22276', b'22277', b'22280', b'22281', b'22282', b'22283', b'22284', b'22293', b'22294', b'22295', b'22296', b'22300', b'22301', b'22302', b'22303', b'22306', b'22309', b'22310', b'22311', b'22313', b'22321', b'22322', b'22325', b'22326', b'22327', b'22328', b'22331', b'22332', b'22333', b'22334', b'22335', b'22336', b'22337', b'22338', b'22339', b'22340', b'22341', b'22343', b'22344', b'22345', b'22348', b'22352', b'22354', b'22355', b'22356', b'22358', b'22361', b'22362', b'22369', b'22371', b'22373', b'22374', b'22376', b'22379', b'22387', b'22388', b'22390', b'22392', b'22394', b'22396', b'22397', b'22398', b'22400', b'22401', b'22403', b'22406', b'22407', b'22409', b'22412', b'22413', b'22415', b'22416', b'22417', b'22423', b'22424', b'22426', b'22428', b'22430', b'22431', b'22433', b'22434', b'22435', b'22436', b'22437', b'22441', b'22442', b'22443', b'22444', b'22445', b'22446', b'22448', b'22449', b'22454', b'22455', b'22456', b'22457', b'22458', b'22461', b'22466', b'22467', b'22469', b'22472', b'22474', b'22475', b'22476', b'22478', b'22480', b'22481', b'22489', b'22490', b'22491', b'22494', b'22495', b'22496', b'22498', b'22499', b'22500', b'22501', b'22503', b'22506', b'22507', b'22513', b'22514', b'22515', b'22516', b'22518', b'22522', b'22525', b'22526', b'22527', b'22529', b'22530', b'22535', b'22536', b'22540', b'22546', b'22549', b'22551', b'22554', b'22555', b'22556', b'22557', b'22558', b'22562', b'22564', b'22565', b'22566', b'22572', b'22574', b'22575', b'22576', b'22578', b'22581', b'22585', b'22588', b'22589', b'22591', b'22592', b'22593', b'22594', b'22595', b'22600', b'22601', b'22603', b'22605', b'22607', b'22611', b'22613', b'22616', b'22619', b'22620', b'22621', b'22626', b'22627', b'22628', b'22630', b'22633', b'22635', b'22638', b'22640', b'22642', b'22643', b'22644', b'22645', b'22646', b'22648', b'22649', b'22650', b'22651', b'22655', b'22657', b'22658', b'22661', b'22664', b'22666', b'22667', b'22668', b'22669', b'22672', b'22673', b'22675', b'22676', b'22682', b'22683', b'22690', b'22692', b'22694', b'22695', b'22700', b'22702', b'22703', b'22704', b'22705', b'22707', b'22708', b'22709', b'22712', b'22713', b'22715', b'22719', b'22722', b'22723', b'22731', b'22732', b'22734', b'22735', b'22741', b'22742', b'22743', b'22744', b'22747', b'22753', b'22755', b'22760', b'22767']
"""

all_email = data[0].split()
behind_emails = all_email[-5:]
print(behind_emails)
# -> [b'22747', b'22753', b'22755', b'22760', b'22767']

all_email = data[0].split()
front_emails = all_email[:5]
print(front_emails)
# => [b'21099', b'21100', b'21101', b'21102', b'21104']

all_email = data[0].split()
middle_emails = all_email[5:10]
print(middle_emails)
# => [b'21105', b'21106', b'21107', b'21108', b'21109']